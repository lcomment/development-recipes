# 1ë¶€: ì¢‹ì€ ì½”ë“œ

## ğŸ“˜ 1ì¥: ì•ˆì •ì„±

### âœ… ì•„ì´í…œ 1: ê°€ë³€ì„±ì„ ì œí•œí•˜ë¼

- ê°€ëŠ¥í•œ í•œ val, ë¶ˆë³€ ì»¬ë ‰ì…˜, data class ë“± ë¶ˆë³€ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë¼.
- valì€ ì°¸ì¡° ë¶ˆë³€ â†’ ìƒíƒœ ì•ˆì „
- ìƒíƒœë¥¼ ë°”ê¾¸ê¸°ë³´ë‹¤ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ë°©ì‹ì´ ë” ì•ˆì „

```kotlin
// âŒ ì¢‹ì§€ ì•Šì€ ì˜ˆ: varë¡œ ìƒíƒœ ë³€ê²½
var userName = "Hyunseok"
userName = "Kim"

// âœ… ì¢‹ì€ ì˜ˆ: val ì‚¬ìš©
val userName = "Hyunseok"
```

```kotlin
// âŒ ê°€ë³€ ì»¬ë ‰ì…˜
val names = mutableListOf("A", "B")
names.add("C")

// âœ… ë¶ˆë³€ ì»¬ë ‰ì…˜
val names = listOf("A", "B")
```

### âœ… ì•„ì´í…œ 2: ë³€ìˆ˜ì˜ ìŠ¤ì½”í”„ë¥¼ ìµœì†Œí™”í•˜ë¼

- ë³€ìˆ˜ëŠ” ê°€ëŠ¥í•œ í•œ ì‚¬ìš© ì§€ì ì— ê°€ê¹Œìš´ ê³³ì—ì„œ ì„ ì–¸í•˜ê³ , ì§§ì€ ìƒëª…ì£¼ê¸°ë¥¼ ìœ ì§€í•˜ë¼.
- ìŠ¤ì½”í”„ê°€ ì§§ì„ìˆ˜ë¡ ì¶”ë¡ /ë””ë²„ê¹…/í…ŒìŠ¤íŠ¸ê°€ ì‰¬ì›€
- lateinitì€ ì •ë§ í•„ìš”í•œ ê²½ìš°ì—ë§Œ

```kotlin
// âŒ ì¢‹ì§€ ì•Šì€ ì˜ˆ
lateinit var result: String
if (shouldProcess()) {
	result = compute()
}
println(result)

// âœ… ì¢‹ì€ ì˜ˆ
if (shouldProcess()) {
	val result = compute()
	println(result)
}
```

### âœ… ì•„ì´í…œ 3: í”Œë«í¼ íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ë§ë¼

- Java interoperability ì‹œ, null ì•ˆì •ì„±ì´ ë³´ì¥ë˜ì§€ ì•ŠëŠ” í”Œë«í¼ íƒ€ì…ì€ ì§€ì–‘í•˜ë¼.
- `!!` ë‚¨ìš© X
- Java APIëŠ” ë˜í¼ í•¨ìˆ˜ë¡œ ê°ì‹¸ê±°ë‚˜ nullable ì²˜ë¦¬í•  ê²ƒ

```kotlin
// Javaì—ì„œ ì „ë‹¬ëœ List<String> â†’ Kotlinì—ì„  List<String!>
fun printNames(javaList: List<String>) {
	for (name in javaList) {
		println(name.length) // ëŸ°íƒ€ì„ NPE ê°€ëŠ¥ì„±!
	}
}

// âœ… ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
fun printNamesSafe(javaList: List<String?>?) {
	javaList?.forEach { name ->
		println(name?.length ?: 0)
	}
}
```

### âœ… ì•„ì´í…œ 4: inferred íƒ€ì…ìœ¼ë¡œ ë¦¬í„´í•˜ì§€ ë§ë¼

- í•¨ìˆ˜ì˜ ë¦¬í„´ íƒ€ì…ì€ ëª…ì‹œì ìœ¼ë¡œ ì‘ì„±í•˜ì—¬ ì¶”ë¡  ì˜¤ë¥˜ ë°©ì§€
- ë³€ê²½ì— ê°•í•œ API ì„¤ê³„
- ë¬¸ì„œí™”ì™€ IDE ì§€ì›ë„ ê°œì„ ë¨

```kotlin
// âŒ ëª…ì‹œì ì´ì§€ ì•Šì€ ë¦¬í„´ íƒ€ì…
fun getUser() = UserRepository.getUserById("123")

// âœ… ë¦¬í„´ íƒ€ì… ëª…ì‹œ
fun getUser(): User = UserRepository.getUserById("123")
```

### âœ… ì•„ì´í…œ 5: ì˜ˆì™¸ë¡œ ì½”ë“œì— ì œí•œì„ ê±¸ì–´ë¼

- ì‚¬ì „ ì¡°ê±´ì´ë‚˜ ë¹„ì •ìƒ ìƒí™©ì—ì„œëŠ” ëª…í™•í•˜ê²Œ ì˜ˆì™¸ë¥¼ ë˜ì ¸ì•¼ í•¨
- require, check, error, IllegalArgumentException ë“± ì ê·¹ í™œìš©
- fail-fast ì „ëµ â†’ ì—ëŸ¬ëŠ” ì¡°ê¸°ì— ëª…í™•íˆ

```kotlin
fun divide(a: Int, b: Int): Int {
	require(b != 0) { "0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }
	return a / b
}
```

### âœ… ì•„ì´í…œ 6: ì‚¬ìš©ì ì •ì˜ ì˜¤ë¥˜ë³´ë‹¤ í‘œì¤€ ì˜¤ë¥˜ë¥¼ ì‚¬ìš©í•˜ë¼

- ì˜ë¯¸ê°€ ëª…í™•í•œ ê¸°ë³¸ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ìš°ì„  ì‚¬ìš©
- í‘œì¤€ ì˜ˆì™¸ëŠ” ê°€ë…ì„±, ë””ë²„ê¹…, í…ŒìŠ¤íŠ¸ì— ìœ ë¦¬
- í•„ìš”í•˜ë©´ ì»¤ìŠ¤í…€ ì˜ˆì™¸ë¥¼ í‘œì¤€ ì˜ˆì™¸ ìƒì†í•´ë„ ì¢‹ìŒ

```kotlin
// âŒ ì»¤ìŠ¤í…€ ì˜ˆì™¸
class InvalidUserIdException : Exception()

// âœ… í‘œì¤€ ì˜ˆì™¸
throw IllegalArgumentException("Invalid user id")
```

### âœ… ì•„ì´í…œ 7: ê²°ê³¼ ë¶€ì¡± ì‹œ nullê³¼ Failure ì‚¬ìš©

- ì‹¤íŒ¨ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì—°ì‚°ì€ nullable, sealed, Result, Either ë“±ìœ¼ë¡œ ì²˜ë¦¬
- ëª…ì‹œì ì¸ ì‹¤íŒ¨ í‘œí˜„ â†’ NPEë‚˜ ì˜ˆì™¸ë³´ë‹¤ ì•ˆì „
- Kotlin 1.6+ì—ì„œëŠ” Result<T> ì ê·¹ í™œìš© ê°€ëŠ¥

```kotlin
// âœ… null ë¦¬í„´
fun findUserByEmail(email: String): User? {
	return users.find { it.email == email }
}

// âœ… Result ì‚¬ìš©
fun loadData(): Result<String> = try {
	Result.success(readFile())
} catch (e: IOException) {
	Result.failure(e)
}
```

### âœ… ì•„ì´í…œ 8: ì ì ˆí•˜ê²Œ nullì„ ì²˜ë¦¬í•˜ë¼

- !! â†’ ë¶ˆê°€í”¼í•œ ê²½ìš° ì™¸ì—ëŠ” ì‚¬ìš© ê¸ˆì§€
- ?., ?:, let, run ë“± `null-safe API` ì ê·¹ ì‚¬ìš©

```kotlin
// âŒ !! ì‚¬ìš©
val name = user!!.name

// âœ… ì•ˆì „ í˜¸ì¶œ
val name = user?.name ?: "Unknown"

// âœ… let
user?.let {
	println(it.name)
}
```

### âœ… ì•„ì´í…œ 9: useë¥¼ ì‚¬ìš©í•´ ë¦¬ì†ŒìŠ¤ë¥¼ ë‹«ì•„ë¼

- Javaì˜ try-with-resourcesì™€ ë™ì¼í•œ ê¸°ëŠ¥
- Closeable, AutoCloseableì„ ìë™ìœ¼ë¡œ ë‹«ì•„ì¤Œ

```kotlin
File("test.txt").bufferedReader().use { reader ->
	println(reader.readLine())
}
```

### âœ… ì•„ì´í…œ 10: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ë¼

- í…ŒìŠ¤íŠ¸ëŠ” ì•ˆì •ì„±ì˜ í•µì‹¬, íŠ¹íˆ ë³µì¡í•œ ì¡°ê±´ê³¼ ìƒíƒœ ë³€ê²½ ì½”ë“œì—” í•„ìˆ˜
- @Test, assertEquals, assertFailsWith ë“± í™œìš©
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œ ì„¤ê³„ ê°œì„ ì—ë„ ì§ì ‘ì ì¸ ë„ì›€

```kotlin
@Test
fun `divide should throw exception when dividing by zero`() {
	assertFailsWith<IllegalArgumentException> {
		divide(10, 0)
	}
}
```

## ğŸ“˜ 2ì¥: ê°€ë…ì„±

### âœ… ì•„ì´í…œ 11: ê°€ë…ì„±ì„ ëª©í‘œë¡œ ì„¤ê³„í•˜ë¼

- ì½”ë“œëŠ” ì»´í“¨í„°ë³´ë‹¤ ì‚¬ëŒì´ ì½ê¸° ì‰¬ì›Œì•¼ í•œë‹¤.
- ì˜ë¯¸ ì—†ëŠ” ì¶•ì•½ X
- ì—­í• ì´ ë“œëŸ¬ë‚˜ëŠ” ì´ë¦„ ì‚¬ìš©
- ì¤‘ì²©ë³´ë‹¤ í•¨ìˆ˜ ì¶”ì¶œ

```kotlin
// âŒ ì˜ë„ê°€ ë¶ˆë¶„ëª…í•œ ì½”ë“œ
val r = p / t

// âœ… ëª…í™•í•œ ì´ë¦„
val interestRate = principal / time
```

### âœ… ì•„ì´í…œ 12: ì—°ì‚°ì ì˜¤ë²„ë¡œë“œëŠ” ì˜ë¯¸ì— ë§ê²Œ

- +, -, [], == ë“± ì˜¤ë²„ë¡œë“œëŠ” ì§ê´€ì  ì˜ë¯¸ ìœ ì§€
- ì˜¤í•´í•  ìˆ˜ ìˆëŠ” ì˜¤ë²„ë¡œë“œëŠ” í”¼í•˜ë¼

```kotlin
// âœ… Vector í´ë˜ìŠ¤ì— + ì—°ì‚°ì ì˜¤ë²„ë¡œë“œ
data class Vector(val x: Int, val y: Int) {
	operator fun plus(other: Vector): Vector =
		Vector(x + other.x, y + other.y)
}
```


### âœ… ì•„ì´í…œ 13: Unit?ì„ ë¦¬í„´í•˜ì§€ ë§ë¼

- nullable Unitì€ ì‹¤ì œë¡œ ì˜ë¯¸ ì—†ëŠ” ê°’ì„ í‘œí˜„í•˜ë¯€ë¡œ í˜¼ë€ë§Œ ì¤Œ
- Unitì€ "ì˜ë¯¸ ì—†ëŠ” ê²°ê³¼"ë¼ëŠ” ì•½ì†
- nullableë¡œ ë§Œë“œëŠ” ìˆœê°„ ì˜¤í•´ ë°œìƒ

```kotlin
// âŒ ì˜ëª»ëœ ì˜ˆ
fun doSomething(): Unit? = Unit

// âœ… ê·¸ëƒ¥ Unitìœ¼ë¡œ ì²˜ë¦¬
fun doSomething(): Unit {}
```

### âœ… ì•„ì´í…œ 14: ëª…í™•í•˜ì§€ ì•Šìœ¼ë©´ íƒ€ì…ì„ ëª…ì‹œí•˜ë¼

- APIë‚˜ ê³µê°œ í•¨ìˆ˜ì—ì„œëŠ” ë°˜ë“œì‹œ íƒ€ì… ëª…ì‹œ
- ë‚´ë¶€ ì§€ì—­ ë³€ìˆ˜ëŠ” ì¶”ë¡  OK

```kotlin
// âŒ íƒ€ì… ì¶”ë¡ ì´ ë¶ˆëª…í™•
val user = getUser() // ì–´ë–¤ íƒ€ì…ì¸ì§€ ëª¨ë¦„

// âœ… íƒ€ì… ëª…ì‹œ
val user: User = getUser()
```

### âœ… ì•„ì´í…œ 15: ë¦¬ì‹œë²„ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì°¸ì¡°í•˜ë¼

- this, it ëŒ€ì‹  ëª…í™•í•œ ì´ë¦„ ë¶€ì—¬ (with, apply, let ë“±ì—ì„œ)
- ì¤‘ì²©ëœ scope functionì¼ìˆ˜ë¡ ì¤‘ìš”

```kotlin
fun String.isLongerThan(other: String): Boolean {
	return this.length > other.length // âœ… ëª…ì‹œì ìœ¼ë¡œ this ì‚¬ìš©
}
```

### âœ… ì•„ì´í…œ 16: í”„ë¡œí¼í‹°ëŠ” ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ì•¼

- í”„ë¡œí¼í‹°ëŠ” ê°’ì´ì–´ì•¼ í•˜ê³ , ì˜ì™¸ì˜ ë™ì‘ì„ í•˜ë©´ ì•ˆ ëœë‹¤
- ê³„ì‚°ì´ ë§¤ë²ˆ ë‹¤ë¥´ë©´ í•¨ìˆ˜ë¡œ ë§Œë“¤ê¸°

```kotlin
// âŒ ìƒíƒœê°€ ì•„ë‹Œ ê³„ì‚° ê²°ê³¼
val isEven: Boolean
get() = Random.nextBoolean() // ìƒíƒœê°€ ì•„ë‹˜ â†’ í˜¼ë€

// âœ… í•¨ìˆ˜ë¡œ í‘œí˜„
fun isRandomEven(): Boolean = Random.nextBoolean()
```

### âœ… ì•„ì´í…œ 17: ì´ë¦„ ìˆëŠ” ì•„ê·œë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•˜ë¼

- íŒŒë¼ë¯¸í„°ê°€ ë§ì„ìˆ˜ë¡ ì´ë¦„ ìˆëŠ” ì¸ìë¥¼ ì ê·¹ ì‚¬ìš©
- ì˜¤í•´, ì‹¤ìˆ˜ ë°©ì§€

```kotlin
fun createUser(name: String, age: Int, isActive: Boolean)

createUser("Kim", 29, true) // âŒ ì˜ë¯¸ ë¶ˆë¶„ëª…
createUser(name = "Kim", age = 29, isActive = true) // âœ… ëª…í™•
```

### âœ… ì•„ì´í…œ 18: ì½”ë”© ì»¨ë²¤ì…˜ì„ ì§€ì¼œë¼

- Kotlin ê³µì‹ ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ë”°ë¥¼ ê²ƒ
- ê°œì¸ ìŠ¤íƒ€ì¼ë³´ë‹¤ íŒ€ ë‚´ í†µì¼ì„±
- ktlint, detekt, kover ê°™ì€ íˆ´ ë„ì… ê¶Œì¥

```kotlin
// âœ… ì¼ê´€ëœ ë„¤ì´ë°, ë“¤ì—¬ì“°ê¸°, ê³µë°±, ì¤„ë°”ê¿ˆ
fun greet(name: String): String {
	return "Hello, $name"
}
```
