# 2ë¶€: ì½”ë“œ ì„¤ê³„

## ğŸ“˜ 3ì¥: ì¬ì‚¬ìš©ì„± (ì•„ì´í…œ 19 ~ 25)

### âœ… ì•„ì´í…œ 19: ì§€ì‹(Knowledge)ì„ ë°˜ë³µí•˜ì§€ ë§ë¼

- "ì„±ì¸ì´ë©´ ì…ì¥ ê°€ëŠ¥" ê°™ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ í•œ ë²ˆë§Œ ì •ì˜í•˜ê³  ì¬ì‚¬ìš©í•˜ë¼.
- "ë¹„ì¦ˆë‹ˆìŠ¤ ì§€ì‹"ì€ í•˜ë‚˜ì˜ ì§„ë¦¬ë§Œ ì¡´ì¬í•´ì•¼ í•¨
- ë³€ê²½ë˜ë©´ í•œ ê³³ë§Œ ìˆ˜ì •í•˜ë©´ ë˜ë„ë¡ êµ¬ì¡°í™”

âŒ ë‚˜ìœ ì˜ˆ (ê°™ì€ ë¡œì§ì„ ì—¬ëŸ¬ ê³³ì—ì„œ ë°˜ë³µ)

```kotlin
if (user.age >= 18) {
	...
}
if (customer.age >= 18) {
	...
}
```

âœ… ì¢‹ì€ ì˜ˆ (ê³µí†µ í•¨ìˆ˜ë¡œ ì¶”ì¶œ)

```kotlin
fun isAdult(age: Int): Boolean = age >= 18

if (isAdult(user.age)) {
	...
}
if (isAdult(customer.age)) {
	...
}
```

### âœ… ì•„ì´í…œ 20: ì¼ë°˜ì ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ë°˜ë³µí•´ì„œ êµ¬í˜„í•˜ì§€ ë§ë¼

- map, filter, groupBy ë“± í‘œì¤€ í•¨ìˆ˜ê°€ ì´ë¯¸ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì§ì ‘ ë§Œë“¤ì§€ ë§ ê²ƒ
- Kotlinì˜ ì»¬ë ‰ì…˜ APIëŠ” ê°•ë ¥í•¨
- ì´ë¯¸ ìˆëŠ” ê±¸ ë‹¤ì‹œ ë§Œë“¤ë©´ ë²„ê·¸ì™€ ì¤‘ë³µì˜ ì›ì¸

âŒ ë‚˜ìœ ì˜ˆ (ê·¸ë£¹í™”ë¥¼ ìˆ˜ë™ìœ¼ë¡œ êµ¬í˜„)

```kotlin
val map = mutableMapOf<Char, MutableList<String>>()
for (name in names) {
	val key = name.first()
	map.getOrPut(key) { mutableListOf() }.add(name)
}
```

âœ… ì¢‹ì€ ì˜ˆ (í‘œì¤€ í•¨ìˆ˜ í™œìš©)

```kotlin
val grouped = names.groupBy { it.first() }
```

### âœ… ì•„ì´í…œ 21: ì¼ë°˜ì ì¸ í”„ë¡œí¼í‹° íŒ¨í„´ì€ ìœ„ì„ìœ¼ë¡œ ë§Œë“¤ì–´ë¼

- lazy, observable, vetoable ë“±ì˜ ìœ„ì„ì„ ì§ì ‘ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŒ
- í”„ë¡œí¼í‹°ì— ë°˜ë³µë˜ëŠ” íŒ¨í„´ì€ byë¡œ ì¶”ì¶œí•´ ì¬ì‚¬ìš© ê°€ëŠ¥

âœ… Kotlin ê¸°ë³¸ ì œê³µ ì˜ˆ

```kotlin
val name: String by lazy { loadName() }

var count: Int by Delegates.observable(0) { _, old, new ->
	println("count changed: $old -> $new")
}
```

âœ… ì»¤ìŠ¤í…€ ìœ„ì„ ì˜ˆ

```kotlin
class NonEmptyString {
	private var value: String = ""

	operator fun getValue(thisRef: Any?, property: KProperty<*>): String = value

	operator fun setValue(thisRef: Any?, property: KProperty<*>, newValue: String) {
		require(newValue.isNotEmpty()) { "String cannot be empty" }
		value = newValue
	}
}

var nickname: String by NonEmptyString()
```

### âœ… ì•„ì´í…œ 22: ì¼ë°˜ì ì¸ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ì‹œ ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ë¼

- ë‹¤ì–‘í•œ íƒ€ì…ì— ëŒ€í•´ ë™ì‘í•  ìˆ˜ ìˆê²Œ ì œë„¤ë¦­ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë¼.
- ì œë„¤ë¦­ìœ¼ë¡œ ì¬ì‚¬ìš© ê°€ëŠ¥ì„± ê·¹ëŒ€í™”
- íƒ€ì… ì•ˆì „ì„±ê³¼ ìœ ì—°ì„± í™•ë³´

âœ… ì˜ˆì œ: ê°€ì¥ í° ìš”ì†Œ ë°˜í™˜

```kotlin
fun <T : Comparable<T>> max(a: T, b: T): T =
	if (a > b) a else b
```

âœ… ì˜ˆì œ: í•©ê³„ë¥¼ êµ¬í•˜ëŠ” ì œë„¤ë¦­ í™•ì¥ í•¨ìˆ˜

```kotlin
fun <T> List<T>.sumBy(selector: (T) -> Int): Int {
	var sum = 0
	for (element in this) sum += selector(element)
	return sum
}
```

### âœ… ì•„ì´í…œ 23: íƒ€ì… íŒŒë¼ë¯¸í„°ì˜ ì„€ë„ì‰ì„ í”¼í•˜ë¼

- ë‚´ë¶€/ì™¸ë¶€ì˜ ê°™ì€ ì´ë¦„ì˜ ì œë„¤ë¦­ íƒ€ì…ì´ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ë¼
- **ì„€ë„ì‰(ì´ë¦„ ì¶©ëŒ)** ì€ í˜¼ë€ê³¼ ë²„ê·¸ ìœ ë°œ
- íƒ€ì… íŒŒë¼ë¯¸í„° ì´ë¦„ì€ ìƒí™©ì— ë§ê²Œ ëª…í™•íˆ êµ¬ë¶„

âŒ ë‚˜ìœ ì˜ˆ (ì„€ë„ì‰ ë°œìƒ)

```kotlin
class Box<T>(val value: T) {
	fun <T> copy(): Box<T> = Box(value) // âŒ ì™¸ë¶€ Tì™€ ë‚´ë¶€ T í˜¼ë™
}
```

âœ… ì¢‹ì€ ì˜ˆ (ë‹¤ë¥¸ ì´ë¦„ ì‚¬ìš©)

```kotlin
class Box<T>(val value: T) {
	fun <R> copy(newValue: R): Box<R> = Box(newValue)
}
```

### âœ… ì•„ì´í…œ 24: ì œë„¤ë¦­ íƒ€ì…ê³¼ variance í•œì •ì (in, out) í™œìš©í•˜ë¼

- Kotlinì˜ out(ê³µë³€), in(ë°˜ê³µë³€) í‚¤ì›Œë“œë¥¼ í™œìš©í•˜ë©´ íƒ€ì… ì•ˆì „ì„±ê³¼ ìœ ì—°ì„±ì„ ë™ì‹œì— í™•ë³´í•  ìˆ˜ ìˆìŒ
- out T: Të¥¼ ë¦¬í„´ë§Œ â†’ ì½ê¸° ì „ìš©
- in T: Të¥¼ ë°›ê¸°ë§Œ â†’ ì“°ê¸° ì „ìš©
- ì•„ë¬´ ê²ƒë„ ì—†ìœ¼ë©´ in/out ëª¨ë‘ ì•ˆë¨ (ë¶ˆë³€)

âœ… ì˜ˆ: ê³µë³€ì„± (out) â†’ ì½ê¸° ì „ìš©

```kotlin
interface Producer<out T> {
	fun produce(): T
}
```

â†’ Producer<Dog>ëŠ” Producer<Animal>ë¡œ ëŒ€ì²´ ê°€ëŠ¥

âœ… ì˜ˆ: ë°˜ê³µë³€ì„± (in) â†’ ì“°ê¸° ì „ìš©

```kotlin
interface Consumer<in T> {
	fun consume(item: T)
}
```

â†’ Consumer<Animal>ì€ Consumer<Dog>ì— ëŒ€ì… ê°€ëŠ¥

âœ… ì‹¤ìš© ì˜ˆ: ListëŠ” out T

```kotlin
val dogs: List<Dog> = listOf(...)
val animals: List<Animal> = dogs // âœ… ê°€ëŠ¥
```

### âœ… ì•„ì´í…œ 25: ê³µí†µ ëª¨ë“ˆì„ ì¶”ì¶œí•´ì„œ ì—¬ëŸ¬ í”Œë«í¼ì—ì„œ ì¬ì‚¬ìš©í•˜ë¼ (ë©€í‹°í”Œë«í¼ ëŒ€ì‘)

- **Kotlin Multiplatform(MPP)** ì„ í™œìš©í•´ ê³µí†µ ë¡œì§ì„ í•˜ë‚˜ì˜ ëª¨ë“ˆë¡œ ê³µìœ 
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ìœ í‹¸ í•¨ìˆ˜ ë“±ì€ commonMainìœ¼ë¡œ ì¶”ì¶œ
- ê° í”Œë«í¼ë³„ êµ¬í˜„ì€ actual í‚¤ì›Œë“œë¡œ ì‘ì„±

âœ… ê³µí†µ ëª¨ë“ˆ ì˜ˆ

```kotlin
// commonMain
expect fun currentTimeMillis(): Long

// androidMain
actual fun currentTimeMillis(): Long = System.currentTimeMillis()

// iosMain
actual fun currentTimeMillis(): Long = NSDate().timeIntervalSince1970 * 1000
```

## ğŸ“˜ 4ì¥: ì¶”ìƒí™” ì„¤ê³„ (ì•„ì´í…œ 26 ~ 32)

### âœ… ì•„ì´í…œ 26: í•¨ìˆ˜ ë‚´ë¶€ì˜ ì¶”ìƒí™” ìˆ˜ì¤€ì„ í†µì¼í•˜ë¼

- ê°™ì€ í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ë¡œìš° ë ˆë²¨ê³¼ í•˜ì´ ë ˆë²¨ ë¡œì§ì„ ì„ì§€ ë§ ê²ƒ
- ì¶”ìƒí™” ìˆ˜ì¤€ì´ ì„ì´ë©´ ì´í•´ì™€ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›€
- ë‚´ë¶€ êµ¬í˜„ì€ ë³„ë„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ê° í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ì¶”ìƒí™” ìˆ˜ì¤€ë§Œ ë‹´ë‹¹

âŒ ë‚˜ìœ ì˜ˆ (ë ˆë²¨ ì„ì„)

```kotlin
fun saveUser(user: User) {
	val connection = dataSource.connection // ì €ìˆ˜ì¤€
	connection.prepareStatement("INSERT INTO users...") // ì €ìˆ˜ì¤€
	auditLogger.log("User saved") // ê³ ìˆ˜ì¤€
}
```

âœ… ì¢‹ì€ ì˜ˆ (ë ˆë²¨ í†µì¼)

```kotlin
fun saveUser(user: User) {
	database.save(user)
	auditLogger.log("User saved")
}
```

### âœ… ì•„ì´í…œ 27: ë³€í™”ë¡œë¶€í„° ì½”ë“œë¥¼ ë³´í˜¸í•˜ë ¤ë©´ ì¶”ìƒí™”ë¥¼ ì‚¬ìš©í•˜ë¼

- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬, ë°ì´í„° êµ¬ì¡° ë“±ì˜ ë³€í™”ëŠ” ì¶”ìƒí™”ë¥¼ í†µí•´ ì°¨ë‹¨í•˜ë¼
- ì™¸ë¶€ APIëŠ” ë°”ë¡œ ì“°ì§€ ë§ê³  Adapterë¡œ ê°ì‹¸ê¸°
- ë‚´ë¶€ êµ¬í˜„ ë³€ê²½ ì‹œì—ë„ í˜¸ì¶œë¶€ëŠ” ì˜í–¥ ì—†ìŒ

âŒ ë‚˜ìœ ì˜ˆ (ì™¸ë¶€ API ì§ì ‘ ì‚¬ìš©)

```kotlin
fun sendNotification(title: String, message: String) {
	Firebase.send(title, message) // ì™¸ë¶€ ì˜ì¡´ ì§ì ‘ ì‚¬ìš©
}
```

âœ… ì¢‹ì€ ì˜ˆ (ì¶”ìƒí™” ë„ì…)

```kotlin
interface Notifier {
	fun notify(title: String, message: String)
}

class FirebaseNotifier : Notifier {
	override fun notify(title: String, message: String) {
		Firebase.send(title, message)
	}
}
```

### âœ… ì•„ì´í…œ 28: API ì•ˆì •ì„±ì„ í™•ì¸í•˜ë¼

- ê³µê°œ APIëŠ” ì¼ë‹¨ ë°°í¬ë˜ë©´ ì‰½ê²Œ ë°”ê¾¸ê¸° ì–´ë ¤ì›€. ì‹ ì¤‘í•˜ê²Œ ì„¤ê³„í•˜ë¼.
- APIì— ì§ì ‘ Boolean, Int ê°™ì€ ì˜ë¯¸ ëª¨í˜¸í•œ íƒ€ì… ì „ë‹¬í•˜ì§€ ë§ê³  ë„ë©”ì¸ íƒ€ì…ìœ¼ë¡œ ê°ì‹¸ê¸°
- ê¸°ë³¸ê°’ í™œìš©, @JvmOverloads ë„ ê²€í†  ê°€ëŠ¥

âŒ ë‚˜ìœ ì˜ˆ

```kotlin
fun doSomething(option: Boolean, config: Config) // ë¶ˆëª…í™•
```

âœ… ì¢‹ì€ ì˜ˆ

```kotlin
data class Options(val useCache: Boolean, val config: Config)

fun doSomething(options: Options)
```

### âœ… ì•„ì´í…œ 29: ì™¸ë¶€ APIë¥¼ ê°ì‹¸ì„œ ì‚¬ìš©í•˜ë¼ (wrap)

- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ë§ê³  Facade ë˜ëŠ” Adapterë¡œ ê°ì‹¸ë¼
- ì™¸ë¶€ ë³€ê²½ ì‹œ Adapter í´ë˜ìŠ¤ë§Œ ìˆ˜ì •í•˜ë©´ ë˜ë¯€ë¡œ ë¦¬ìŠ¤í¬ê°€ ì‘ìŒ
- í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œë„ Mock ì¸í„°í˜ì´ìŠ¤ ì£¼ì… ê°€ëŠ¥

âœ… ì˜ˆ

```kotlin
interface HttpClient {
	fun get(url: String): String
}

class KtorHttpClient : HttpClient {
	override fun get(url: String): String {
		return ktorClient.get(url)
	}
}
```

### âœ… ì•„ì´í…œ 30: ìš”ì†Œì˜ ê°€ì‹œì„±ì„ ìµœì†Œí™”í•˜ë¼

- publicë³´ë‹¤ëŠ” private, internalë¡œ ë…¸ì¶œ ë²”ìœ„ë¥¼ ì œí•œí•˜ë¼
- APIëŠ” ë…¸ì¶œë˜ë©´ ë³€ê²½ì´ ì–´ë µê³  ìœ„í—˜
- ê°€ì¥ ì¢ì€ ê°€ì‹œì„±ë¶€í„° ì‹œì‘í•˜ê³ , í•„ìš” ì‹œ ì ì§„ì ìœ¼ë¡œ í™•ì¥

âœ… ì˜ˆ

```kotlin
internal class Repository { ... }

private fun validate(): Boolean {
	...
}
```

### âœ… ì•„ì´í…œ 31: ë¬¸ì„œë¡œ ê·œì•½ì„ ì •ì˜í•˜ë¼

- ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ì—ëŠ” ìš©ë„, ì œì•½ì‚¬í•­, ì‚¬ì´ë“œì´í™íŠ¸ ë“±ì„ ë¬¸ì„œí™”í•˜ë¼
- KDoc (/** */) í˜•íƒœë¡œ ë¬¸ì„œí™”
- íŠ¹íˆ ì¶”ìƒ ë©”ì„œë“œë‚˜ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ ì‹œ ì¤‘ìš”
- íŒ€ ë‚´ ì»¨ë²¤ì…˜ê³¼ ì—°ë™ ê°€ëŠ¥ (ì˜ˆ: Dokka)

âœ… ì˜ˆ

```kotlin
/**
 * ê³ ê°ì„ ì €ì¥í•˜ê³ , ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê²½ìš° ë®ì–´ì“´ë‹¤.
 * ì´ ì‘ì—…ì€ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤.
 */
fun saveCustomer(customer: Customer)
```

### âœ… ì•„ì´í…œ 32: ì¶”ìƒí™” ê·œì•½ì„ ì§€ì¼œë¼

- ì¶”ìƒ íƒ€ì…ì´ ì •ì˜í•œ **ê³„ì•½(contract)**ì„ ì–´ê¸°ë©´ ì•ˆ ë¨
- ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ ë©”ì„œë“œëŠ” ì˜ë„ë¥¼ í‘œí˜„í•˜ëŠ” ê³„ì•½
- í•´ë‹¹ ê³„ì•½ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì¼œì ¸ì•¼ í•˜ê³ , ì˜ˆì™¸ ì²˜ë¦¬ ë°©ì‹ë„ í¬í•¨ë¨

âŒ ë‚˜ìœ ì˜ˆ

```kotlin
interface Repository {
	fun getById(id: String): User
}

class BadRepo : Repository {
	override fun getById(id: String): User {
		return throw NotImplementedError() // ê·œì•½ ìœ„ë°˜
	}
}
```

## ğŸ“˜ 5ì¥: ê°ì²´ ìƒì„±

### âœ… ì•„ì´í…œ 33: ìƒì„±ì ëŒ€ì‹  íŒ©í† ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë¼

- constructor ëŒ€ì‹  ì´ë¦„ ìˆëŠ” íŒ©í† ë¦¬ í•¨ìˆ˜ë¥¼ ì œê³µí•˜ë©´ ê°€ë…ì„±ê³¼ ìœ ì—°ì„±ì´ ë†’ì•„ì§„ë‹¤.
- íŒ©í† ë¦¬ í•¨ìˆ˜ëŠ” ì´ë¦„ìœ¼ë¡œ ì˜ë„ë¥¼ ë“œëŸ¬ë‚¼ ìˆ˜ ìˆìŒ
- ë³µì¡í•œ ìƒì„± ë¡œì§ì„ ìˆ¨ê¸°ê±°ë‚˜ ìºì‹±, ê°ì²´ ì¬ì‚¬ìš©, ì„œë¸Œí´ë˜ìŠ¤ ì„ íƒ ë“±ë„ ê°€ëŠ¥

âŒ ë‚˜ìœ ì˜ˆ

```kotlin
val user = User(true, false) // ìƒì„±ì ì¸ì ì˜ë¯¸ê°€ ëª¨í˜¸
```

âœ… ì¢‹ì€ ì˜ˆ (íŒ©í† ë¦¬ í•¨ìˆ˜ ì‚¬ìš©)

```kotlin
data class User(val isAdmin: Boolean, val isActive: Boolean) {
	companion object {
		fun adminUser(): User = User(isAdmin = true, isActive = true)
		fun guestUser(): User = User(isAdmin = false, isActive = false)
	}
}

val admin = User.adminUser()
```

### âœ… ì•„ì´í…œ 34: ê¸°ë³¸ ìƒì„±ìì— ì´ë¦„ ìˆëŠ” ì˜µì…˜ ì•„ê·œë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•˜ë¼

- ì„ íƒì  ì¸ìê°€ ë§ì€ ê²½ìš° **ì´ë¦„ ìˆëŠ” ì¸ì(named arguments)**ë¥¼ í™œìš©í•˜ë©´ ê°€ë…ì„±ê³¼ ì•ˆì •ì„±ì´ ê°œì„ ë¨
- Kotlinì€ ê¸°ë³¸ê°’ + ì´ë¦„ ìˆëŠ” ì¸ìë§Œìœ¼ë¡œ Builder íŒ¨í„´ì„ ëŒ€ì²´ ê°€ëŠ¥
- ìˆœì„œ ì‹¤ìˆ˜ ë°©ì§€, IDE ìë™ì™„ì„± ì§€ì›

âœ… ì˜ˆì œ

```kotlin
data class Email(
	val to: String,
	val subject: String = "",
	val body: String = "",
	val cc: List<String> = emptyList()
)

val email = Email(
	to = "user@example.com",
	subject = "Meeting",
	body = "Please attend",
	cc = listOf("manager@example.com")
)
```

### âœ… ì•„ì´í…œ 35: ë³µì¡í•œ ê°ì²´ ìƒì„±ì„ ìœ„í•œ DSLì„ ë§Œë“¤ì–´ë¼

- ë³µì¡í•œ ì„¤ì •ì„ í•„ìš”ë¡œ í•˜ëŠ” ê°ì²´ëŠ” Kotlin DSLì„ ë§Œë“¤ì–´ ë” ìì—°ìŠ¤ëŸ½ê³  ì„ ì–¸ì ì¸ ë°©ì‹ìœ¼ë¡œ êµ¬ì„± ê°€ëŠ¥
- Kotlinì˜ **í•¨ìˆ˜ ë¦¬í„°ëŸ´ ìˆ˜ì‹ ì(lambda with receiver)** ë¥¼ í™œìš©
- ë³µì¡í•œ ê°ì²´ ì¡°í•©ì„ êµ¬ì¡°í™”ëœ ë¸”ë¡ ì½”ë“œë¡œ í‘œí˜„ ê°€ëŠ¥
- ëŒ€í‘œì ì¸ ì˜ˆ: Jetpack Compose, Anko, kotlinx.html

âœ… DSL ì˜ˆì œ

```kotlin
class Html {
	private val content = StringBuilder()

	fun body(init: Body.() -> Unit) {
		content.append("<body>\n")
		Body().apply(init).also {
			content.append(it.render())
		}
		content.append("\n</body>")
	}

	fun render(): String = content.toString()
}

class Body {
	private val content = StringBuilder()

	fun p(text: String) {
		content.append("<p>$text</p>\n")
	}

	fun render(): String = content.toString()
}

fun html(init: Html.() -> Unit): Html {
	return Html().apply(init)
}

// ì‚¬ìš© ì˜ˆ:
val document = html {
	body {
		p("Hello Kotlin DSL!")
		p("This is effective.")
	}
}

println(document.render())
```

ì¶œë ¥ ê²°ê³¼:

```html

<body>
<p>Hello Kotlin DSL!</p>
<p>This is effective.</p>
</body>
```

## ğŸ“˜ 6ì¥: í´ë˜ìŠ¤ ì„¤ê³„

### âœ… ì•„ì´í…œ 36: ìƒì†ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ë¼

- ìƒì†ì€ ê²°í•©ë„ë¥¼ ë†’ì´ê³  ì˜ˆê¸°ì¹˜ ì•Šì€ ë¬¸ì œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ. ê°€ëŠ¥í•œ í•œ has-a (ì»´í¬ì§€ì…˜) ê´€ê³„ë¡œ ëŒ€ì²´í•˜ë¼.
- ìƒì†ì€ êµ¬ì¡°ë¥¼ ê³ ì •ì‹œí‚´ â†’ í…ŒìŠ¤íŠ¸, í™•ì¥, ìœ ì§€ë³´ìˆ˜ì— ë¶ˆë¦¬
- ì»´í¬ì§€ì…˜ì€ ë” ìœ ì—°í•˜ê³  ì•ˆì „

âŒ ë‚˜ìœ ì˜ˆ (ìƒì† ì‚¬ìš©)

```kotlin
open class Button {
	open fun click() {
		println("Clicked")
	}
}

class ConfirmButton : Button() {
	override fun click() {
		super.click()
		println("Are you sure?")
	}
}
```

âœ… ì¢‹ì€ ì˜ˆ (ì»´í¬ì§€ì…˜ ì‚¬ìš©)

```kotlin
class Button {
	fun click() {
		println("Clicked")
	}
}

class ConfirmButton(private val button: Button) {
	fun click() {
		button.click()
		println("Are you sure?")
	}
}
```

### âœ… ì•„ì´í…œ 37: ë°ì´í„° ì§‘í•© í‘œí˜„ì—ëŠ” data í´ë˜ìŠ¤ ì‚¬ìš©í•˜ë¼

- ìƒíƒœë§Œ ë‹´ëŠ” í´ë˜ìŠ¤ëŠ” data classë¡œ í‘œí˜„í•´ì„œ ìë™ìœ¼ë¡œ equals, hashCode, toString ë“±ì„ ë§Œë“¤ê²Œ í•˜ì.
- data classëŠ” value object í‘œí˜„ì— ì í•©
- ë‹¨, ìƒíƒœë§Œ ê°€ì§„ í´ë˜ìŠ¤ì— í•œì • (ë¡œì§ì´ ë§ë‹¤ë©´ ë¶€ì í•©)

âœ… ì˜ˆì œ

```kotlin
data class User(val id: Long, val name: String)

val a = User(1, "Kim")
val b = User(1, "Kim")

println(a == b) // true
```

### âœ… ì•„ì´í…œ 38: ì—°ì‚°/ì•¡ì…˜ ì „ë‹¬ ì‹œ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ í•¨ìˆ˜ íƒ€ì…ì„ ì‚¬ìš©í•˜ë¼

- ë‹¨ìˆœí•œ ë™ì‘ ì „ë‹¬ì€ () -> Unit ê°™ì€ í•¨ìˆ˜ íƒ€ì…ì´ í›¨ì”¬ ê°„ë‹¨í•˜ê³  ìœ ì—°í•¨
- ì¸í„°í˜ì´ìŠ¤ëŠ” ìƒíƒœë¥¼ ê°€ì§€ê±°ë‚˜ ë³µì¡í•œ ê¸°ëŠ¥ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©

âŒ ë‚˜ìœ ì˜ˆ (ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ ì •ì˜)

```kotlin
interface ClickAction {
	fun execute()
}

fun setOnClick(action: ClickAction) {
	action.execute()
}
```

âœ… ì¢‹ì€ ì˜ˆ (í•¨ìˆ˜ íƒ€ì… ì‚¬ìš©)

```kotlin
fun setOnClick(action: () -> Unit) {
	action()
}
```

### âœ… ì•„ì´í…œ 39: íƒœê·¸ í´ë˜ìŠ¤ë³´ë‹¤ í´ë˜ìŠ¤ ê³„ì¸µ ì‚¬ìš©í•˜ë¼

- type == "A" ê°™ì€ íƒœê·¸ ë¶„ê¸° ë¡œì§ ëŒ€ì‹ , sealed class ë˜ëŠ” í´ë˜ìŠ¤ ìƒì†ìœ¼ë¡œ í‘œí˜„í•˜ë¼
- í´ë˜ìŠ¤ ê³„ì¸µì€ ì»´íŒŒì¼ íƒ€ì„ ì•ˆì „ì„± ì œê³µ
- ìƒˆë¡œìš´ íƒ€ì… ì¶”ê°€ ì‹œ whenì—ì„œ ê²½ê³  ë°œìƒ â†’ ìœ ì§€ë³´ìˆ˜ ì‰¬ì›€

âŒ ë‚˜ìœ ì˜ˆ (íƒœê·¸ ê¸°ë°˜ ì„¤ê³„)

```kotlin
data class Message(val type: String, val content: String)

fun handle(msg: Message) {
	when (msg.type) {
		"text" -> println("Text: ${msg.content}")
		"image" -> println("Image")
	}
}
```

âœ… ì¢‹ì€ ì˜ˆ (í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡° ì‚¬ìš©)

```kotlin
sealed class Message
data class Text(val content: String) : Message()
data class Image(val url: String) : Message()

fun handle(msg: Message) = when (msg) {
	is Text -> println("Text: ${msg.content}")
	is Image -> println("Image: ${msg.url}")
}
```

### âœ… ì•„ì´í…œ 40: equalsì˜ ê·œì•½ì„ ì§€ì¼œë¼

- equalsëŠ” ë‹¤ìŒì„ ë§Œì¡±í•´ì•¼ í•¨:
	- ë°˜ì‚¬ì„±, ëŒ€ì¹­ì„±, ì¶”ì´ì„±
	- a == bì´ë©´ b == aì´ì–´ì•¼ í•¨ ë“±
- ì£¼ì˜ ì :
	- equals ì˜¤ë²„ë¼ì´ë”© ì‹œì—ëŠ” hashCodeë„ í•¨ê»˜ ì˜¤ë²„ë¼ì´ë”©í•´ì•¼ í•¨ (ì•„ì´í…œ 41)

âœ… ì˜ˆì œ

```kotlin
data class Point(val x: Int, val y: Int)

val a = Point(1, 2)
val b = Point(1, 2)
println(a == b) // true
```

### âœ… ì•„ì´í…œ 41: hashCodeì˜ ê·œì•½ì„ ì§€ì¼œë¼

- a == bë©´ a.hashCode() == b.hashCode() ì´ì–´ì•¼ í•¨
- equalsì™€ hashCodeëŠ” í•­ìƒ ìŒìœ¼ë¡œ ì¬ì •ì˜í•  ê²ƒ

âŒ ë‚˜ìœ ì˜ˆ

```kotlin
class Bad(val value: Int) {
	override fun equals(other: Any?) = other is Bad && other.value == value
// âŒ hashCode ì—†ìŒ â†’ HashSet ë“±ì—ì„œ ë¬¸ì œ ë°œìƒ
}
```

âœ… ì¢‹ì€ ì˜ˆ

```kotlin
class Good(val value: Int) {
	override fun equals(other: Any?) = other is Good && other.value == value
	override fun hashCode(): Int = value.hashCode()
}
```

### âœ… ì•„ì´í…œ 42: compareToì˜ ê·œì•½ì„ ì§€ì¼œë¼

- compareToëŠ” ë‹¤ìŒì„ ë§Œì¡±í•´ì•¼ í•¨:
	- a > bë©´ b < a
	- a == bë©´ compareTo(a, b) == 0
- ë¹„êµ ê¸°ì¤€ì€ ëª…í™•í•˜ê³  ì¼ê´€ë˜ê²Œ
- ì»¬ë ‰ì…˜ ì •ë ¬ ë“±ì—ì„œ ì˜ëª»ëœ compareToëŠ” ë²„ê·¸ ìœ ë°œ ê°€ëŠ¥

âœ… ì˜ˆì œ

```kotlin
data class Person(val name: String, val age: Int) : Comparable<Person> {
	override fun compareTo(other: Person): Int =
		compareValuesBy(this, other, Person::age, Person::name)
}
```

### âœ… ì•„ì´í…œ 43: APIì˜ í•„ìˆ˜ì ì´ì§€ ì•Šì€ ê¸°ëŠ¥ì€ í™•ì¥ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ë¼

- í•µì‹¬ ë¡œì§ì€ í´ë˜ìŠ¤ì—, ë¶€ê°€ ê¸°ëŠ¥ì€ í™•ì¥ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ì±…ì„ì„ ë¶„ëª…íˆ í•˜ë¼
- í´ë˜ìŠ¤ëŠ” í•µì‹¬ ë¡œì§ë§Œ ë‹´ê³ , UI/ë„ì›€ ê¸°ëŠ¥ì€ í™•ì¥ í•¨ìˆ˜ë¡œ ë¶„ë¦¬
- SRP(ë‹¨ì¼ ì±…ì„ ì›ì¹™)ì— ë¶€í•©

âœ… ì˜ˆì œ

```kotlin
class User(val name: String)

// í™•ì¥ í•¨ìˆ˜ë¡œ ë¹„í•„ìˆ˜ ê¸°ëŠ¥ ì •ì˜
fun User.sayHello() = println("Hello, $name")
```

### âœ… ì•„ì´í…œ 44: ë©¤ë²„ í™•ì¥ í•¨ìˆ˜ëŠ” í”¼í•˜ë¼

- í´ë˜ìŠ¤ ë‚´ë¶€ì— ì„ ì–¸ëœ í™•ì¥ í•¨ìˆ˜ëŠ” ì‹¤ì œ í™•ì¥ì´ ì•„ë‹˜, í˜¼ë€ë§Œ ìœ ë°œ
- í™•ì¥ í•¨ìˆ˜ëŠ” ì™¸ë¶€ì— ì„ ì–¸í•´ì„œ ì‚¬ìš©í•´ì•¼ ì§„ì§œ íš¨ê³¼ ë°œíœ˜
- ë‚´ë¶€ì—ì„œë§Œ ì“°ë©´ ê·¸ëƒ¥ ë¡œì»¬ í•¨ìˆ˜ë‚˜ í—¬í¼ í•¨ìˆ˜ë¡œ ì²˜ë¦¬í•˜ì

âŒ ë‚˜ìœ ì˜ˆ

```kotlin
class A {
	fun B.foo() {
		println("??")
	} // âŒ í˜¼ë€ìŠ¤ëŸ¬ì›€
}
```

â†’ Bì—ëŠ” ì•„ë¬´ëŸ° ì˜í–¥ë„ ì—†ê³ , A í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
