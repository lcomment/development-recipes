# **Terraform**

: HashiCorp사가 만든 오픈 소스 `코드형 인프라 툴`

- 현재 공급되는 가장 인기 있는 인프라 자동화 툴 중 하나
  - 단순 구문을 사용하여 여러 클라우드 및 on-premise 데이터 센터에서 `인프라 프로비저닝`, `구성 변경`에 대한 반응으로 인프라를 안전하고 효율적으로 `다시 프로비저닝`
- 개발자가 HCL(; HashiCorp Configuration Language)이라 불리는 `상위 레벨 구성 언어를 사용`하여 애플리케이션 실행을 위해 원하는 엔드 상태 클라우드 또는 on-premise 인프라를 `기술`하도록 함
- 이후 해당 엔드 상태에 도달하기 위한 `계획 생성` 및 `인프라를 프로비저닝`하기 위한 계획 실행

### ⭐️ 조직이 하이브리드 클라우드 또는 멀티 클라우드 환경을 전개할 경우, Terraform 사용을 원하거나 필요할 수 있다!

```text
✎ 멀티 클라우드: 기업이 각각의 특정 애플리케이션 또는 서비스를 제공하는 클라우드 플랫폼을 두 개 이상 사용하는 환경을 말하며, 목표는 퍼블릭, 프라이빗, 엣지
클라우드로 구성하는 것이다.
✎ 하이브리드 클라우드: 멀티 클라우드의 하위 집단으로, on-premise it를 퍼블릭 클라우드 또는 클라우드 서비스 제공업체의 오프 프레미스 등(AWS, GCP,
Azure)과 결합하는 환경

→ 멀티 클라우드 환경에서는 상호 운용성이 있거나 없는 상태에서 여러 클라우드가 존재하고 사용되는데, 여러 서비스 모델에 대한 액세스를 제공하므로 이러한 새로운
아키텍처가 점점 더 많이 활용되고 있다.
```

<br>

## 코드형 인프라의 장점

- 속도 향상
  - 자원 배치 및 연결을 하는 경우 인터페이스의 수동 탐색보다 `자동화가 빠름`
- 안정성 향상
  - 인프라 규모가 클 경우, 자원 또는 프로비저닝 서비스를 `잘못된 순서로 구성할 수 있는 위험` 감소
- 사용자 환경을 프로비저닝한 구성이 실제 환경과 더 이상 일치하지 않는 경우 발생하는 `구성 드리프트 방지`
- 실험, 테스트 및 최적화 지원

<br>

## Terraform을 사용하는 이유

- 개방형 소스
  - 대규모 커뮤니티 지원
  - 신속하게 진화하고 새로운 이점과 개선된 기능이 지속적으로 향상
- 플랫폼 애그노스틱
  - 모든 클라우드 서비스 공급자와 함께 사용 가능
  - 대부분의 다른 코드형 인프라 툴은 단일 클라우드 공급자와 함께 작동하도록 설계돼 있음
- 변경 불가 인프라
  - 대부분의 코드형 인프라는 변경 가능 인프라 생성
    - 인프라가 미들웨어 update 또는 새 스토리지 서버와 같은 변경을 수용하도록 변화 가능
  - 변경 내용이 쌓이면서 다른 서버 또는 기타 인프라 요소의 실제 프로비저닝이 원래 구성에서 멀어짐 (드리프트)
  - Terraform은 환경에 대한 모든 변경사항에 대해 현재 구성이 변경을 기술하는 새로운 구성으로 대체되고 인프라가 다시 프로비저닝됨
  - 이전 구성은 필요하거나 원할 경우 롤백이 가능한 버전으로 유지 가능

<br>

## Kubernetes와의 차이

> _→ 결론: 실제로 둘은 서로 대안이 아니며 실제로 효과적으로 협력한다!_

&nbsp; Terraform은 IaaS, PaaS, 심지어 SaaS 레벨 기능을 자동화 및 관리할 수 있으며, 모든 해당 제공자들 간에 병렬로 이러한 모든 리소스를 구축할 수 있다. Terraform을 사용하여 Kubernetes(특히 클라우드 플랫폼의 관리형 Kubernetes 클러스터)의 프로비저닝을 자동화하고 클러스터에 애플리케이션 배치를 자동화할 수 있다.

---

### 참고자료

- [ibm 게시물](https://www.ibm.com/kr-ko/cloud/learn/terraform)
